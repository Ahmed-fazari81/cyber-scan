<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ø¯Ø±Ø¹ Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ | CyberShield</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon-192.png">

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://unpkg.com/html5-qrcode"></script>

<style>
:root {
  --primary: #3b82f6;
  --dark-bg: #0f172a;
  --card-bg: #1e293b;
  --text: #f1f5f9;
}

body {
  font-family: 'Tajawal', sans-serif;
  background: var(--dark-bg);
  color: var(--text);
  margin: 0;
}

header {
  background: rgba(30,41,59,0.95);
  padding: 15px 20px;
  border-bottom: 1px solid #334155;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  font-weight: 800;
  color: var(--primary);
}

.container {
  max-width: 600px;
  margin: auto;
  padding: 20px;
}

.nav-buttons {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.info-btn {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  cursor: pointer;
}

.tabs {
  display: flex;
  gap: 8px;
  margin: 20px 0;
  background: #020617;
  padding: 5px;
  border-radius: 12px;
}

.tab {
  flex: 1;
  padding: 10px;
  background: none;
  border: none;
  color: #64748b;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}

.tab.active {
  background: var(--card-bg);
  color: white;
}

.input-area {
  background: var(--card-bg);
  padding: 20px;
  border-radius: 16px;
  border: 1px solid #334155;
}

textarea {
  width: 100%;
  height: 100px;
  background: #0f172a;
  border: 1px solid #334155;
  color: white;
  border-radius: 10px;
  padding: 10px;
}

.action-btn {
  width: 100%;
  padding: 15px;
  background: var(--primary);
  border: none;
  border-radius: 10px;
  color: white;
  font-weight: bold;
  margin-top: 15px;
  cursor: pointer;
}

.result-card {
  background: var(--card-bg);
  border-radius: 16px;
  padding: 25px;
  margin-top: 25px;
  display: none;
  border: 1px solid #334155;
}

.modal {
  position: fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background: rgba(0,0,0,0.85);
  display: none;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: var(--card-bg);
  padding: 25px;
  border-radius: 16px;
  max-width: 500px;
  width: 100%;
}

.close-modal {
  background: #ef4444;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 8px;
  width: 100%;
  margin-top: 15px;
  cursor: pointer;
}
</style>
</head>

<body>

<header>
  <div class="logo">ğŸ›¡ï¸ CyberShield</div>
</header>

<div class="container">

<div class="nav-buttons">
<button class="info-btn" onclick="openModal('aboutModal')">Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>
<button class="info-btn" onclick="openModal('guideModal')">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
</div>

<div id="mainSection">

<div class="tabs">
<button class="tab active" onclick="setMode('text', this)">Ø±Ø§Ø¨Ø· / Ù†Øµ</button>
<button class="tab" onclick="setMode('image', this)">ØµÙˆØ±Ø©</button>
<button class="tab" onclick="setMode('qr', this)">QR</button>
</div>

<div class="input-area">

<div id="text-view">
<textarea id="textInput" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§"></textarea>
</div>

<div id="image-view" style="display:none; text-align:center;">
<input type="file" accept="image/*" onchange="handleImage(this)">
<img id="imgPreview" style="max-width:100%; display:none; margin-top:10px;">
</div>

<div id="qr-view" style="display:none">
<div id="qr-reader"></div>
</div>

<button id="analyzeBtn" class="action-btn" onclick="analyze()">
Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø£Ù…Ù†ÙŠ
</button>

<div id="loader" style="display:none; text-align:center; margin-top:10px">
Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ...
</div>

</div>
</div>

<div id="resultSection" class="result-card">

<div style="text-align:center">
<div id="riskScore" style="font-size:2rem"></div>
</div>

<h3 id="resStatus"></h3>
<p id="resSummary"></p>

<div>
<strong>Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©:</strong>
<p id="resDetails"></p>
</div>

<div id="resSource"></div>
<div id="resType"></div>

<button class="action-btn" onclick="downloadReport()">
ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ù…Ù†ÙŠ
</button>

<button class="action-btn" style="background:#475569" onclick="resetApp()">
ÙØ­Øµ Ø¬Ø¯ÙŠØ¯
</button>

</div>

</div>

<!-- Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
<div id="aboutModal" class="modal">
<div class="modal-content">
<h2>Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h2>
<p>
Ù…Ù†ØµØ© ØªØ­Ù„ÙŠÙ„ Ø£Ù…Ù†ÙŠ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ ÙˆØ§Ù„ØªØ²ÙŠÙŠÙ Ø§Ù„Ø±Ù‚Ù…ÙŠ ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¶Ø§Ø±Ø©.
</p>
<button class="close-modal" onclick="closeModal('aboutModal')">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
<div id="guideModal" class="modal">
<div class="modal-content">
<h2>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h2>
<ul>
<li>Ø£Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø§Ù„Ù†Øµ</li>
<li>Ø£Ùˆ Ø§Ø±ÙØ¹ ØµÙˆØ±Ø©</li>
<li>Ø£Ùˆ Ø§Ù…Ø³Ø­ QR</li>
<li>Ø§Ø¶ØºØ· ÙØ­Øµ</li>
</ul>
<button class="close-modal" onclick="closeModal('guideModal')">Ø¥ØºÙ„Ø§Ù‚</button>
</div>
</div>

<script src="app.js"></script>

</body>
</html>
